═══════════════════════════════════════════════════════════════
   متغيرات البيئة المطلوبة لإعداد المشروع على Railway
═══════════════════════════════════════════════════════════════

📋 انسخ هذه القيم واطبقها في Railway Dashboard

─────────────────────────────────────────────────────────────
🔴 1. DATABASE_URL (مهم جداً - يحتاج تعديل)
─────────────────────────────────────────────────────────────

القيمة الحالية في Railway:
postgresql://postgres:A01156573876@db.onyxkfdzbkbuxzwjcnho.supabase.co:5432/postgres

✅ القيمة الصحيحة (أضف ?sslmode=require):
postgresql://postgres:A01156573876@db.onyxkfdzbkbuxzwjcnho.supabase.co:5432/postgres?sslmode=require

⚠️ ملاحظة: استبدل A01156573876 بكلمة مرور Supabase الصحيحة!

─────────────────────────────────────────────────────────────
🔴 2. JWT_SECRET (مهم - يحتاج تعديل)
─────────────────────────────────────────────────────────────

القيمة الحالية في Railway:
your-super-secret-jwt-key-change-this-in-production

✅ القيمة الصحيحة الجديدة (تم توليدها):
fb183ee1b50f3dcf3d97baeddda459dcd10cbf30ba14317614d4f4bd8a07e228

─────────────────────────────────────────────────────────────
✅ 3. CORS_ORIGIN (صحيح - يحدّث لاحقاً)
─────────────────────────────────────────────────────────────

http://localhost:3001

─────────────────────────────────────────────────────────────
✅ 4. JWT_EXPIRES_IN (صحيح)
─────────────────────────────────────────────────────────────

7d

─────────────────────────────────────────────────────────────
✅ 5. JWT_REFRESH_EXPIRES_IN (صحيح)
─────────────────────────────────────────────────────────────

30d

─────────────────────────────────────────────────────────────
✅ 6. JWT_REFRESH_SECRET (صحيح - Railay تولدها)
─────────────────────────────────────────────────────────────

${{ secret(...) }} (تبقى كما هي)

─────────────────────────────────────────────────────────────
✅ 7. THROTTLE_TTL (صحيح)
─────────────────────────────────────────────────────────────

60

─────────────────────────────────────────────────────────────
✅ 8. THROTTLE_LIMIT (صحيح)
─────────────────────────────────────────────────────────────

100

─────────────────────────────────────────────────────────────
⚪ 9. AWS_ACCESS_KEY_ID (اختياري - إذا لا تستخدم S3)
─────────────────────────────────────────────────────────────

${{ secret(...) }} (احذفها إذا لا تستخدم AWS)

─────────────────────────────────────────────────────────────
⚪ 10. AWS_SECRET_ACCESS_KEY (اختياري - إذا لا تستخدم S3)
─────────────────────────────────────────────────────────────

${{ secret(...) }} (احذفها إذا لا تستخدم AWS)

─────────────────────────────────────────────────────────────
⚪ 11. AWS_REGION (اختياري - إذا لا تستخدم S3)
─────────────────────────────────────────────────────────────

us-east-1 (احذفها إذا لا تستخدم AWS)

─────────────────────────────────────────────────────────────
⚪ 12. AWS_S3_BUCKET (اختياري - إذا لا تستخدم S3)
─────────────────────────────────────────────────────────────

crm-attachments (احذفها إذا لا تستخدم AWS)

─────────────────────────────────────────────────────────────
   ملخص الإجراءات المطلوبة
─────────────────────────────────────────────────────────────

✅ متغيرات تحتاج تعديل في Railway:
   1. DATABASE_URL - أضف ?sslmode=require
   2. JWT_SECRET - استبدل بالقيمة: fb183ee1b50f3dcf3d97baeddda459dcd10cbf30ba14317614d4f4bd8a07e228

✅ متغيرات صحيحة كما هي:
   - CORS_ORIGIN
   - JWT_EXPIRES_IN
   - JWT_REFRESH_EXPIRES_IN
   - JWT_REFRESH_SECRET
   - THROTTLE_TTL
   - THROTTLE_LIMIT

⚪ متغيرات اختيارية (AWS):
   - إذا لا تستخدم S3، احذفها
   - إذا تستخدم S3، احتفظ بها وأضف مفاتيح AWS

─────────────────────────────────────────────────────────────
   كيف تطبق التعديلات في Railway
─────────────────────────────────────────────────────────────

1. افتح Railway Dashboard: https://railway.app
2. اختر مشروع crm-system
3. اضغط على Service (Backend)
4. اذهب إلى "Variables" tab
5. لكل متغير:
   - اضغط على المتغير
   - عدل القيمة
   - اضغط Save
6. سيتم Redploy تلقائياً

─────────────────────────────────────────────────────────────
   اختبار بعد التحديث
─────────────────────────────────────────────────────────────

1. انتظر حتى يكتمل Deploy
2. افتح Railway URL (مثل: https://crm-backend.up.railway.app)
3. افتح: /api/docs
4. يجب أن تظهر Swagger UI بدون أخطاء ✅

═══════════════════════════════════════════════════════════════
تم إنشاء هذا الملف: متغيرات_البيئة_للمشروع.txt
للحصول على دليل تفصيلي: إعداد_متغيرات_البيئة_Railway.md
═══════════════════════════════════════════════════════════════

