# โ๏ธ ุฏููู ุฅุนุฏุงุฏ Environment Variables ูู Railway

## ๐ **ุงูุจูุงูุงุช ุงูููุชุฑุญุฉ ูู Railway:**

Railway ููุชุดู ุชููุงุฆูุงู ุงููุชุบูุฑุงุช ูู ุงูููุฏ. **ูุนุธููุง ุตุญูุญ** โ ููู ุชุญุชุงุฌ ุชุนุฏูู ุจุนุถ ุงูููู:

---

## โ๏ธ **ูุชุบูุฑุงุช ุชุญุชุงุฌ ุชุนุฏูู:**

### ๐ด **1. DATABASE_URL** (ููู ุฌุฏุงู!)

**ุงููููุฉ ุงูุญุงููุฉ:**
```
postgresql://postgres:A01156573876@db.onyxkfdzbkbuxzwjcnho.supabase.co:5432/postgres
```

**๐ง ุงูุชุนุฏูู ุงููุทููุจ:**
- โ **ุงุณุชุจุฏู ูููุฉ ุงููุฑูุฑ** `A01156573876` ุจูููุฉ ูุฑูุฑ Supabase ุงูุตุญูุญุฉ
- โ **ุฃุถู SSL**: ุฃุถู `?sslmode=require` ูู ุงูููุงูุฉ

**ุงููููุฉ ุงูุตุญูุญุฉ:**
```
postgresql://postgres:ูููุฉ_ุงููุฑูุฑ_ุงูุตุญูุญุฉ@db.onyxkfdzbkbuxzwjcnho.supabase.co:5432/postgres?sslmode=require
```

---

### ๐ด **2. JWT_SECRET** (ุฃูุงู ููู!)

**ุงููููุฉ ุงูุญุงููุฉ:**
```
your-super-secret-jwt-key-change-this-in-production
```

**โ๏ธ ุงููุดููุฉ:** ุถุนูู ุฌุฏุงู ูุณูู ุงููุณุฑ!

**โ ุงูุญู: ุฃูุดุฆ JWT_SECRET ููู**

**ูู Terminal (ูุญูู):**
```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

**ุงูุณุฎ ุงููุงุชุฌ ูุงุณุชุฎุฏูู ููููุฉ:**
```
a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6
```

---

### ๐ก **3. JWT_REFRESH_SECRET** (ุงุฎุชูุงุฑู ููู ููุถู)

**ุงููููุฉ ุงูุญุงููุฉ:**
```
${{ secret(...) }}
```

**โ ุชุจูู ููุง ูู** - Railway ุชููุฏูุง ุชููุงุฆูุงู โ

---

## โ **ูุชุบูุฑุงุช ุตุญูุญุฉ ููุง ูู:**

### **CORS_ORIGIN:**
```
http://localhost:3001
```
โ๏ธ **ููุงุญุธุฉ:** ุณูุชู ุชุญุฏูุซูุง ูุงุญูุงู ุนูุฏ ุฑูุน Frontend

---

### **AWS_* ูุชุบูุฑุงุช (ุงุฎุชูุงุฑู):**
ุฅุฐุง ูู ุชูู ุชุณุชุฎุฏู AWS S3 ูุชุฎุฒูู ุงููููุงุชุ **ุงุญุฐููุง** ุฃู ุงุชุฑููุง ููุง ูู.

**AWS_ACCESS_KEY_ID:** `${{ secret(...) }}` โ  
**AWS_SECRET_ACCESS_KEY:** `${{ secret(...) }}` โ  
**AWS_REGION:** `us-east-1` โ  
**AWS_S3_BUCKET:** `crm-attachments` โ

---

### **JWT_EXPIRES_IN:**
```
7d
```
โ ุตุญูุญ - ุฌูุณุฉ 7 ุฃูุงู

---

### **JWT_REFRESH_EXPIRES_IN:**
```
30d
```
โ ุตุญูุญ - ุชุฌุฏูุฏ ุงูุฌูุณุฉ 30 ููู

---

### **THROTTLE_TTL:**
```
60
```
โ ุตุญูุญ - Rate limiting: 60 ุซุงููุฉ

---

### **THROTTLE_LIMIT:**
```
100
```
โ ุตุญูุญ - 100 ุทูุจ ูู ุงูุฏูููุฉ

---

## ๐ **ููู .env ุงููุซุงูู ูู Railway:**

### **ูุชุบูุฑุงุช ุฃุณุงุณูุฉ (ูุทููุจุฉ):**

```env
# ======================================
# DATABASE (SUPABASE)
# ======================================
DATABASE_URL="postgresql://postgres:ูููุฉ_ุงููุฑูุฑ_ุงูุตุญูุญุฉ@db.onyxkfdzbkbuxzwjcnho.supabase.co:5432/postgres?sslmode=require"

# ======================================
# JWT AUTHENTICATION
# ======================================
JWT_SECRET="YOUR_GENERATED_JWT_SECRET_HERE"
JWT_EXPIRES_IN="7d"
JWT_REFRESH_SECRET="${{ secret(...) }}"
JWT_REFRESH_EXPIRES_IN="30d"

# ======================================
# APPLICATION
# ======================================
PORT=3000
NODE_ENV="production"

# ======================================
# CORS
# ======================================
CORS_ORIGIN="http://localhost:3001"

# ======================================
# RATE LIMITING
# ======================================
THROTTLE_TTL=60
THROTTLE_LIMIT=100
```

---

## ๐ฏ **ุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ:**

### **ุงูุฎุทูุฉ 1: ุฅูุดุงุก JWT_SECRET ููู**

```bash
# ูู Terminal ูุญูู
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

**ุงูุณุฎ ุงููุงุชุฌ ูุงุณุชุฎุฏูู**

---

### **ุงูุฎุทูุฉ 2: ุงูุญุตูู ุนูู ูููุฉ ูุฑูุฑ Supabase**

1. ุงูุชุญ: https://supabase.com/dashboard
2. ุงุฎุชุฑ: ูุดุฑูุน `crm-db`
3. Settings โ Database โ Connection string โ URI
4. ุงูุณุฎ ูููุฉ ุงููุฑูุฑ ูู ุงูุฑุงุจุท

---

### **ุงูุฎุทูุฉ 3: ุชุญุฏูุซ ุงููุชุบูุฑุงุช ูู Railway**

ูู Railway Dashboard:

1. **DATABASE_URL:** ุงุณุชุจุฏู ุจูููุฉ ุงููุฑูุฑ ุงูุตุญูุญุฉ + ุฃุถู `?sslmode=require`
2. **JWT_SECRET:** ุงุณุชุจุฏู ุจุงููููุฉ ุงููููููุฏุฉ ูู ุงูุฎุทูุฉ 1

---

## โ **ูุงุฆูุฉ ุงูุชุญูู:**

- [ ] ุชู ุฅูุดุงุก JWT_SECRET ููู
- [ ] ุชู ุงูุญุตูู ุนูู ูููุฉ ูุฑูุฑ Supabase
- [ ] ุชู ุชุญุฏูุซ DATABASE_URL ูู Railway
- [ ] ุชู ุชุญุฏูุซ JWT_SECRET ูู Railway
- [ ] ุชู ุฅุถุงูุฉ `?sslmode=require` ูู DATABASE_URL
- [ ] ุชู ุญูุธ ุฌููุน ุงููุชุบูุฑุงุช

---

## ๐ **ูุตุงุฆุญ ุงูุฃูุงู:**

### โ **ูุง ูุฌุจ ูุนูู:**
- โ ุงุณุชุฎุฏู JWT_SECRET ููู (32+ ุญุฑู ุนุดูุงุฆู)
- โ ุงุณุชุฎุฏู `?sslmode=require` ููุงุชุตุงู ุงูุขูู
- โ ูุง ุชุดุงุฑู ุงููุชุบูุฑุงุช ูุน ุฃุญุฏ
- โ ุงุณุชุฎุฏู secret variables ูู Railway

### โ **ูุง ูุฌุจ ุชุฌูุจู:**
- โ ูุง ุชุณุชุฎุฏู JWT_SECRET ุถุนูู
- โ ูุง ุชุฑูุน `.env` ุนูู Git
- โ ูุง ุชุดุงุฑู Environment Variables

---

## ๐ **ููุงุฑูุฉ ูุจู ูุจุนุฏ:**

| ุงููุชุบูุฑ | ูุจู | ุจุนุฏ | ุงูุญุงูุฉ |
|---------|-----|-----|---------|
| **DATABASE_URL** | ุจุฏูู SSL | ูุน SSL | โ ูุญุณู |
| **JWT_SECRET** | ุถุนูู | ููู | โ ุขูู |
| **CORS_ORIGIN** | localhost | localhost | โ๏ธ ูุญุฏูุซ ูุงุญูุงู |

---

## ๐ **ุจุนุฏ ุงูุฅุนุฏุงุฏ:**

ุจุนุฏ ุชุญุฏูุซ ุฌููุน ุงููุชุบูุฑุงุช:

```bash
# ูู Railwayุ ุงุถุบุท Deploy
# ุฃู ุงูุชุธุฑ ุงูู automatic deploy
```

**๐ ุชุญูู ูู:**
- โ Build ูุฌุญ
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Logs
- โ Backend ูุนูู ุนูู Railway URL

---

## ๐ **ููุฎุต ุณุฑูุน:**

**ูุญุชุงุฌ ุชุญุฏูุซ ููุฑุงู:**
1. โ `DATABASE_URL` - ุฃุถู SSL + ูููุฉ ูุฑูุฑ ุตุญูุญุฉ
2. โ `JWT_SECRET` - ุงุณุชุฎุฏู ูููุฉ ูููุฉ

**ูุจูู ููุง ูู:**
- ุฌููุน AWS variables (ุฅุฐุง ูุง ุชุณุชุฎุฏู S3)
- THROTTLE settings
- JWT times
- CORS_ORIGIN (ุณูุญุฏูุซ ูุงุญูุงู)

---

**โ ุจุนุฏ ุงูุชุญุฏูุซุ ุฃุฎุจุฑูู ุนูุฏ ุงูุชูุงู ุงูุฎุทูุงุช!**

