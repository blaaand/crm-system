# โ ุงูุฅุนุฏุงุฏุงุช ุงูุตุญูุญุฉ ุงูููุงุฆูุฉ

## ๐ **ุงูุชุงุฑูุฎ:** 2025-02-11

---

## โ **ุงูููุฏ ุตุญูุญ 100%**

ุฌููุน ุงูุฅุนุฏุงุฏุงุช ูู ุงูููุฏ ุตุญูุญุฉ:

- โ **Port:** `process.env.PORT || 3000`
- โ **Global Prefix:** `api`
- โ **Auth Endpoints:** `/api/auth/login`, `/api/auth/register`
- โ **Health Check:** `/api/health`
- โ **CORS:** ูุฏุนู ูุชุนุฏุฏ Origins

---

## ๐ง **ุงูุฅุนุฏุงุฏุงุช ุงููุทููุจุฉ ูู Railway (Backend):**

### **Environment Variables:**

```env
# Backend URL (Railway ูุนุทููุง ุชููุงุฆูุงู)
PUBLIC_DOMAIN=https://web-production-e0446.up.railway.app

# Port (Railway ูุนุทููุง ุชููุงุฆูุงู)
PORT=3000

# Database
DATABASE_URL="postgresql://postgres:your-password@db.onyxkfdzbkbuxzwjcnho.supabase.co:5432/postgres?sslmode=require"

# JWT
JWT_SECRET="your-strong-jwt-secret"
JWT_EXPIRES_IN="7d"

# CORS - ููู ุฌุฏุงู!
CORS_ORIGIN="https://crm-system-virid.vercel.app"

# Environment
NODE_ENV="production"
```

---

## ๐ง **ุงูุฅุนุฏุงุฏุงุช ุงููุทููุจุฉ ูู Vercel (Frontend):**

### **Environment Variables:**

```env
# Backend API URL - ููู ุฌุฏุงู!
VITE_API_URL=https://web-production-e0446.up.railway.app/api
```

---

## โ๏ธ **ููุงุท ูููุฉ ุฌุฏุงู:**

### **1๏ธโฃ CORS_ORIGIN ูุฌุจ ุฃู ูุญุชูู Frontend URL ุงูุตุญูุญ**

โ **ุฎุทุฃ:**
```
CORS_ORIGIN="http://localhost:3001"
```

โ **ุตุญูุญ:**
```
CORS_ORIGIN="https://crm-system-virid.vercel.app"
```

---

### **2๏ธโฃ VITE_API_URL ูุฌุจ ุฃู ูุญุชูู `/api` ูู ุงูููุงูุฉ**

โ **ุฎุทุฃ:**
```
VITE_API_URL=https://web-production-e0446.up.railway.app
```

โ **ุตุญูุญ:**
```
VITE_API_URL=https://web-production-e0446.up.railway.app/api
```

---

### **3๏ธโฃ ุจุนุฏ ุฃู ุชุนุฏูู ุนูู Environment Variables:**

#### **Backend:**
1. ุงุญูุธ Variables ูู Railway
2. Railway ุณูุนูุฏ Deploy ุชููุงุฆูุงู
3. ุงูุชุธุฑ Status = Ready

#### **Frontend:**
1. ุงุญูุธ Variables ูู Vercel
2. **ุฃุนุฏ Deploy ูุฏููุงู:**
   - Deployments โ โฎ โ **Redeploy**
3. ุงูุชุธุฑ Deploy ููุชูู

---

## ๐ **ููู ุชุชุญูู ูู ุฃู ูู ุดูุก ุตุญูุญ:**

### **1๏ธโฃ ุงุฎุชุจุงุฑ Backend Health:**

ุงูุชุญ ูู ุงููุชุตูุญ:
```
https://web-production-e0446.up.railway.app/api/health
```

**ูุฌุจ ุฃู ูุธูุฑ:**
```json
{
  "status": "OK",
  "message": "Server is running"
}
```

---

### **2๏ธโฃ ุงุฎุชุจุงุฑ Auth Endpoint:**

ุงูุชุญ ูู ุงููุชุตูุญ:
```
https://web-production-e0446.up.railway.app/api/auth/login
```

**ูุฌุจ ุฃู ูุธูุฑ:**
```json
{
  "statusCode": 400,
  "message": [
    "email should not be empty",
    "password should not be empty"
  ]
}
```

ูุฐุง **ุตุญูุญ!** โ  
ูุฏู ุนูู ุฃู Endpoint ููุฌูุฏ ููุณุชุฌูุจ (ููู ูุทูุจ ุจูุงูุงุช)

---

### **3๏ธโฃ ุงุฎุชุจุงุฑ CORS:**

ุงูุชุญ Browser Console ูู Frontend:
```
F12 โ Network โ ุฌุฑูุจ ุชุณุฌูู ุงูุฏุฎูู
```

**ุงุจุญุซ ุนู:**
- ุฅุฐุง ุฑุฃูุช `OPTIONS` request ุจู Status 200 โ CORS ุตุญูุญ โ
- ุฅุฐุง ุฑุฃูุช `CORS Error` โ CORS_ORIGIN ุฎุงุทุฆ โ

---

### **4๏ธโฃ ุงุฎุชุจุงุฑ Frontend Connection:**

ูู Browser Console (F12):
```javascript
console.log('VITE_API_URL:', import.meta.env.VITE_API_URL)
```

**ูุฌุจ ุฃู ูุธูุฑ:**
```
VITE_API_URL: https://web-production-e0446.up.railway.app/api
```

**ุฅุฐุง ุธูุฑ `undefined`:** โ ุงููุชุบูุฑ ุบูุฑ ูุนุฑู

---

## ๐ **ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:**

### **ุงูุฎุทูุงุช ุงูุชุดุฎูุตูุฉ:**

1. **ุงูุชุญ Console (F12)**  
   ุงุจุญุซ ุนู `Network Error Details`

2. **ุงูุชุญ Network Tab**  
   ุงูุญุต Request URL ู Status Code

3. **ุงูุญุต Railway Logs**  
   ุงุจุญุซ ุนู ุฃุฎุทุงุก ูู Backend

4. **ุงุญูุธ Screenshots**  
   ูู Console, Network, ู Logs

5. **ุดุงุฑู ุงูุชูุงุตูู**  
   ููุฒูุฏ ูู ุงููุณุงุนุฏุฉ

---

## ๐ **ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ:**

### **Backend (Railway):**
- [ ] Status = Ready โ
- [ ] `/api/health` ูุนูู โ
- [ ] `/api/auth/login` ูุณุชุฌูุจ โ
- [ ] `CORS_ORIGIN` ูุญุชูู Frontend URL ุงูุตุญูุญ โ
- [ ] `DATABASE_URL` ุตุญูุญ ููุชุตู โ
- [ ] `JWT_SECRET` ููุฌูุฏ โ
- [ ] ูุง ุฃุฎุทุงุก ูู Logs โ

---

### **Frontend (Vercel):**
- [ ] Status = Ready โ
- [ ] `VITE_API_URL` ูุนุฑู โ
- [ ] `VITE_API_URL` ููุชูู ุจู `/api` โ
- [ ] ุชู Redeploy ุจุนุฏ ุฅุถุงูุฉ `VITE_API_URL` โ
- [ ] Console ูุง ุชุธูุฑ `VITE_API_URL: undefined` โ

---

### **Connection:**
- [ ] ุชุณุฌูู ุงูุฏุฎูู ูุนูู โ
- [ ] ูุง "Network Error" โ
- [ ] ูุง "CORS Error" โ
- [ ] Network tab ูุธูุฑ ุทูุจุงุช ูุงุฌุญุฉ (200) โ

---

## โ **ุงูุฎูุงุตุฉ:**

**ุฌููุน ุงูุฅุนุฏุงุฏุงุช ูู ุงูููุฏ ุตุญูุญุฉ!** โ

**ุงููุดููุฉ ุนูู ุงูุฃุฑุฌุญ:**
- Environment Variables ุบูุฑ ูุถุจูุทุฉ ุจุดูู ุตุญูุญ
- Deploy ูู ูุชู ุจุนุฏ ุงูุชุนุฏููุงุช
- ุฃู ูุดููุฉ ูุคูุชุฉ ูู Railway/Vercel

**ุงูุญู:**
1. ุชุญูู ูู Environment Variables
2. ุฃุนุฏ Deploy Backend ู Frontend
3. ุชุญูู ูู Health Check
4. ุฌุฑูุจ ุชุณุฌูู ุงูุฏุฎูู

---

**๐ ุชุงุฑูุฎ:** 2025-02-11  
**โ ุงูุญุงูุฉ:** ุฌุงูุฒ ููุชุทุจูู

